(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{100:function(t,e,n){"use strict";n.r(e);var r=n(21),i=n.n(r),c=n(28),a=n(32),o=n(19),s=n.n(o),u=n(1),f=n(7),h=n(14),d=n(2),l=function(t){var e=t.children,n=Object(h.a)(t,["children"]),r=Object(u.useState)(!1),i=Object(a.a)(r,2),c=i[0],o=i[1],s=Object(u.useRef)(null);return Object(u.useEffect)((function(){var t=new IntersectionObserver((function(t){var e=Object(a.a)(t,1)[0];o(e.isIntersecting)}),{root:null,rootMargin:"0px",threshold:0});return s.current&&t.observe(s.current),function(){return t.disconnect()}}),[s]),Object(d.jsx)("div",Object(f.a)(Object(f.a)({},n),{},{ref:s,children:c&&e}))},m=n(97),b=n.n(m),j=function(t){var e=t.item,n=e.id,r=e.width,i=e.height,c=e.left,a=e.top,o=e.download_url;return Object(d.jsx)("div",{className:b.a.item,style:{width:"".concat(r,"px"),height:"".concat(i,"px"),transform:"translate(".concat(c,"px, ").concat(a,"px)")},children:Object(d.jsx)(l,{children:Object(d.jsx)("img",{src:o,className:"img-fluid",alt:""})})},n)},p=n(36);var v=n(38);function O(t){return function(t){if(Array.isArray(t))return Object(p.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(v.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=[{width:1200,items:6},{width:996,items:5},{width:768,items:4},{width:480,items:3},{width:0,items:2}],g=function(t,e){return Object(u.useMemo)((function(){var n=O(t),r=w.find((function(t){return e>=t.width}));if(r&&n.length>0){for(var i=(e-10*(r.items-1))/r.items,c=0;c<Math.min(r.items,n.length);c+=1){var a=i/n[c].width*n[c].height;n[c].width=i,n[c].height=a,n[c].top=0,n[c].left=0===c?0:(n[c-1].left||0)+n[c-1].width+10;for(var o=c+r.items;o<n.length;o+=r.items){var s=i/n[o].width*n[o].height;n[o].width=i,n[o].height=s,n[o].left=n[c].left;var u=(n[o-r.items].top||0)+n[o-r.items].height;n[o].top=u+10}}return n}return[]}),[t,e])};e.default=function(){var t=Object(u.useState)([]),e=Object(a.a)(t,2),n=e[0],r=e[1],o=Object(u.useState)(0),f=Object(a.a)(o,2),h=f[0],l=f[1],m=Object(u.useRef)(null);Object(u.useEffect)((function(){(function(){var t=Object(c.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("https://picsum.photos/v2/list?limit=6");case 2:e=t.sent,r(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var b=function(){return m.current?m.current.getBoundingClientRect().width:0};Object(u.useEffect)((function(){return l(b()),window.addEventListener("resize",(function(){l(b())})),window.removeEventListener("resize",(function(){}))}),[n,m]);var p=g(n,h);return Object(d.jsx)("div",{ref:m,className:"list-image",children:p.map((function(t){return Object(d.jsx)(j,{item:t},t.id)}))})}},97:function(t,e,n){t.exports={item:"image_item__2SPf0"}}}]);
//# sourceMappingURL=4.93eb0c6f.chunk.js.map